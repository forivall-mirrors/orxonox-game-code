SET_SOURCE_FILES(UTIL_SRC_FILES
  Clipboard.cc
  CRC32.cc
  Exception.cc
  ExprParser.cc
  Math.cc
  MultiType.cc
  OutputBuffer.cc
  OutputHandler.cc
  SignalHandler.cc
  String.cc
  SubString.cc
)
GET_ALL_HEADER_FILES(UTIL_HDR_FILES)
SET(UTIL_FILES ${UTIL_SRC_FILES} ${UTIL_HDR_FILES})
GENERATE_SOURCE_GROUPS(${UTIL_FILES})
# Also add OrxonoxConfig.h to have it least somewhere in the IDE
LIST(APPEND UTIL_FILES ${CMAKE_BINARY_DIR}/src/OrxonoxConfig.h)
SOURCE_GROUP("" FILES ${CMAKE_BINARY_DIR}/src/OrxonoxConfig.h)

ADD_LIBRARY(util SHARED ${UTIL_FILES})
SET_TARGET_PROPERTIES(util PROPERTIES DEFINE_SYMBOL "UTIL_SHARED_BUILD")
TARGET_LINK_LIBRARIES(util ${OGRE_LIBRARY})

IF (NOT WIN32)
  INSTALL(TARGETS util LIBRARY DESTINATION lib)
ENDIF (NOT WIN32)
