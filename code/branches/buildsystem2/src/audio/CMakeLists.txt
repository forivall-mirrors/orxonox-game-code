SET_SOURCE_FILES(AUDIO_SRC_FILES
  AudioBuffer.cc
  AudioManager.cc
  AudioSource.cc
  AudioStream.cc
)
GET_ALL_HEADER_FILES(AUDIO_HDR_FILES)
SET(AUDIO_FILES ${AUDIO_SRC_FILES} ${AUDIO_HDR_FILES})
GENERATE_SOURCE_GROUPS(${AUDIO_FILES})

ADD_COMPILER_FLAGS("-w44244" MSVC)

IF (MINGW)
  ADD_LIBRARY( audio ${AUDIO_FILES})
ELSE (MINGW)
  ADD_LIBRARY( audio SHARED ${AUDIO_FILES})
ENDIF (MINGW)

SET_TARGET_PROPERTIES(audio PROPERTIES DEFINE_SYMBOL "AUDIO_SHARED_BUILD")
TARGET_LINK_LIBRARIES( audio
  ${OPENAL_LIBRARY}
  ${ALUT_LIBRARY}
  ${VORBISFILE_LIBRARY}
  ${VORBIS_LIBRARY}
  ${OGG_LIBRARY}
  core
  util
)

IF (NOT WIN32)
  INSTALL(TARGETS audio LIBRARY DESTINATION lib)
ENDIF (NOT WIN32)
